@if (event()){
<div class="wrapper">
  @if (payment) {
  @if (payment === 'VND') {
  <img class="qr" src="assets/qr.png" alt="QR">
  <button class="buy-button" (click)="downloadQR()">
    Сохранить QR
  </button>
  <div class="instruction">
    Оплатите {{ totalVND() }}k VND и отправьте скриншот квитанции.
  </div>
  } @else {
  <div class="instruction">
    Оплатите {{ totalRub() }} ₽ по номеру +79126697190(Альфа Банк) и отправьте скриншот квитанции.
  </div>
  }
  <input type="file" accept="image/*" (change)="onFileSelected($event)" hidden #fileInput>
  <button class="buy-button" (click)="fileInput.click()">
    Отправить квитанцию
  </button>
  <button class="buy-button" (click)="cancelPayment()">
    Назад
  </button>
  } @else if (showInfo) {
  <div class="info">
    Спасибо за покупку! Ваш платеж обрабатывается. После подтверждения оплаты, бот отправит вам билеты в телеграм. Если
    у вас возникнут вопросы, напишите в чат с ботом.
  </div>
  <button class="buy-button" (click)="myTickets()">
    Мои билеты
  </button>
  <button class="buy-button" (click)="back()">
    На главную страниц
  </button>
  } @else {

  <div class="timing">
    <div> {{event().date}}</div>
    <div> {{event().start}}</div>
  </div>
  <div class="place">
    @if(place()){
    <a [href]="place().map" target="_blank" rel="noopener noreferrer" class="venue-link">
      {{ place().name }}
    </a>
    }
  </div>
  <div class="schema">
    <img class="schema-image" [src]="event().schema" alt="Схема зала">
  </div>

  <div class="tickets-wrapper">
    <div class="ticket-card" *ngFor="let ticket of tickets()">

      <div class="ticket-info">
        <div class="ticket-title">
          {{ ticketNames[ticket.type] }}
        </div>

        <div class="ticket-prices">
          {{ ticket.priceVND }}k VND
          /
          {{ ticket.priceRub }} ₽
        </div>

        <div class="ticket-add">
          {{ ticket.add }}
        </div>
      </div>

      <div class="ticket-controls">
        <button class="control-btn" (click)="decrease(ticket)" [disabled]="getCount(ticket.type) === 0">
          −
        </button>

        <div class="ticket-count">
          {{ getCount(ticket.type) }}
        </div>

        <button class="control-btn" (click)="increase(ticket)">
          +
        </button>
      </div>

    </div>
  </div>

  <button class="buy-button" (click)="buyTickets('VND')" [disabled]="state().length === 0">
    Купить за {{ totalVND() }}k VND
  </button>
  <button class="buy-button" (click)="buyTickets('RUB')" [disabled]="state().length === 0">
    Купить за {{ totalRub() }} ₽
  </button>
  <button class="buy-button" (click)="back()">
    Назад
  </button>
  }
</div>

}
